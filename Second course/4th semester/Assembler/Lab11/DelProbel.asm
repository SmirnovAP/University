.386
.model FLAT, C

public DelProbel

.CODE
DelProbel:
	PUSH EBP
	MOV EBP, ESP
	PUSH EDI
	PUSH ESI
	PUSH EBX

COUNT_BEFORE:
	MOV EDI, [EBP + 8]
	MOV ECX, -1
	MOV EAX, ' '
	REPE SCASB
	NOT ECX
	DEC ECX
	MOV EBX, ECX
MOVE_FINISH:
	MOV ECX, -1
	MOV EAX, 0
	REPNE SCASB
	NOT ECX
	DEC ECX
	MOV EDX, ECX
COUNT_AFTER:
	STD
	MOV ECX, -1
	MOV EAX, ' '
	REPE SCASB
	NOT ECX
	DEC ECX
	SUB EDX, ECX

	CLD
	MOV ECX, EDX
	MOV EDI, [EBP + 8]
	MOV ESI, [EBP + 8]
	ADD ESI, EBX
	REP MOVSB

	DEC EDI
	MOV BYTE PTR [EDI], 0

	DEC EDX
	MOV EAX, EDX
	POP EBX
	POP ESI
	POP EDI
	POP EBP
	RET
END